# Screen sharing on VoidLinux #
exec dbus-update-activation-environment DISPLAY I3SOCK SWAYSOCK WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=sway
exec pipewire 
exec pipewire-pulse
exec wireplumber
exec /usr/libexec/xdg-desktop-portal -r
# Screen sharing on VoidLinux #

exec corectrl

set $mod Mod4
set $alt Mod1
set $main_output "DP-4"
set $side_output "HDMI-A-2"

font pango:monospace 0

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

client.focused #d8dee9 #d8dee9 #d8dee9 #d8dee9 #d8dee9
client.unfocused #4c566a #4c566a #4c566a #4c566a #4c566a

# Remove title bar
default_border pixel 3
default_floating_border none
titlebar_padding 2

gaps inner 4

bar {
    swaybar_command waybar
}


bindsym $mod+Return exec alacritty
bindsym $mod+z exec pavucontrol

bindsym $mod+Shift+q kill

bindsym $mod+r exec --no-startup-id bemenu-run -p 'Run:' 
bindsym $mod+p exec --no-startup-id passmenumore -p 'Password:' --hf '#ff79c6'
bindsym $mod+o exec --no-startup-id passmenumore --login -p 'Login:' --hf '#ffb86c'
bindsym $mod+i exec --no-startup-id passmenumore --otp -p 'OTP:' --hf '#ff5555'

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

bindsym $mod+w layout toggle split tabbed
bindsym $mod+e layout toggle split
bindsym $mod+f fullscreen

bindsym $mod+Shift+space floating toggle
bindsym $mod+Shift+c sticky toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle

workspace 10 output $side_output

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8
bindsym $mod+9 workspace 9
bindsym $mod+grave workspace 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8
bindsym $mod+Shift+9 move container to workspace 9
bindsym $mod+Shift+grave move container to workspace 10

# Move workspace
bindsym $alt+l move workspace to right
bindsym $alt+h move workspace to left

# reload the configuration file
bindsym $mod+Shift+r reload

bindsym $mod+Shift+e exec "swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway?' -b 'Yes, exit sway' 'swaymsg exit'"

mode "resize" {
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
}

bindsym $mod+d mode "resize"
bindsym Print exec grim -g "$(slurp)" - | swappy -f -

# Audio control
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%


# swaymsg -t get_tree
assign [class="StarUML"] workspace 3
assign [class="azuredatastudio"] workspace 5
assign [class="Brave-browser"] workspace 6
assign [class="Thunderbird"] workspace 8
assign [class="krita"] workspace 9
for_window [app_id="galculator"] floating enable

# Lock Screen 
bindsym $mod+Shift+a exec swaylock \
        -i $main_output:~/.config/sway/wallpapers/w2.jpg \
        -i $side_output:~/.config/sway/wallpapers/w1.jpg

# Idle
exec swayidle -w \
	timeout 1800 'swaymsg "output * power off"' \
	resume 'swaymsg "output * power on"'

exec swayidle -w \
	timeout 30 'if pgrep -x swaylock; then swaymsg "output * power off"; fi' \
	resume 'swaymsg "output * power on"'

output $main_output bg ~/.config/sway/wallpapers/w2.jpg fill #282a36
output $side_output bg ~/.config/sway/wallpapers/w1.jpg fill #282a36

output $main_output position 1080 780 
output $side_output transform 270 
output $side_output position 0 2560

input "type:keyboard" {
 xkb_layout "us,ca(multix)"
 xkb_options "grp:sclk_toggle"
}

